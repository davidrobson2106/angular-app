<div class="container">

  <div class="row" ng-controller="MainController as main">
     	<div>
     		<h1>Dear Diary</h1>

     		<form name="frm" ng-submit="main.newDiaryEntry()">
     			<div>
     				<!-- Bind form input to model -->
     				<input type="text" name="main.diaryEntry" ng-model="main.diaryEntry" required>
     			</div>
          <br>
     			<div>
     				<button  ng-disabled="frm.$invalid">Add Item</button>
     			</div>
          <br>
     			<div>
     				<button ng-click="main.removeDiaryEntry()">Clear entry</button>
     			</div>
     		</form>
     		<ul>
     		    <li ng-repeat="foo in main.diary | orderBy: item">
     		    	<div>
     				    <label>
     				    	<input type="checkbox" ng-model="foo.done" />
     				    </label>
     				</div>
              <span ng-show="foo.custom"  ng-class="{'done':foo.done}">
                {{foo.item}}
               </span>
              <span ng-hide="foo.custom">
                {{foo.fullItem}}
              </span>
              <button  ng-hide="!foo.custom && main.diaryEntry.length < main.messageLimit" ng-click="main.toggleCustom($index)">Read More</button>
              <button  ng-hide="foo.custom && main.diaryEntry.length < main.messageLimit" ng-click="main.toggleCustom($index)">Read Less</button>
              <div>{{foo.date}}</div>
     		    </li>
     		</ul>
     	</div>
     </div>


</div>
